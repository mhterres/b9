<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">

<html>
<head>
<title>B9 Plugin Readme</title>
<style type="text/css">
  BODY {
      font-size : 100%;
  }
  BODY, TD, TH {
      font-family : tahoma, verdana, arial, helvetica, sans-serif;
      font-size : 0.8em;
  }
  H2 {
       font-size : 10pt;
       font-weight : bold;
  }
  A:hover {
      text-decoration : none;
  }
  H1 {
      font-family : tahoma, arial, helvetica, sans-serif;
      font-size : 1.4em;
      font-weight: bold;
      border-bottom : 1px #ccc solid;
      padding-bottom : 2px;
  }

  TT {
      font-family : courier new;
      font-weight : bold;
      color : #060;
  }
  PRE {
      font-family : courier new;
      font-size : 100%;
  }
</style>
</head>
<body>

<h1>B9 Plugin Readme</h1>

<h2>Overview</h2>
<p>Administrate Openfire with B9 plugin.
</p>

<h2>Installation</h2>
<p>Use console admin to upload the plugin or copy the b9.jar into the plugins directory of your Openfire installation. The plugin will then be automatically deployed. To upgrade to a new version, copy the new b9.jar file over the existing file or use console admin (in this case, first remove the old plugin version).</p>

<h2>Using the Plugin</h2>
<ul>
   <li>Send a message with content "anonymous login" to b9@adminbot.jabberdomain to get the configuration of anonymous login.</li>
   <li>Send a message with content "anonymous login disable" to b9@adminbot.jabberdomain to disable anonymous login.</li>
   <li>Send a message with content "anonymous login enable" to b9@adminbot.jabberdomain to enable anonymous login.</li>
   <li>Send a message with content "c2s compression" to b9@adminbot.jabberdomain to get the configuration of c2s compression.</li>
   <li>Send a message with content "c2s compression disable" to b9@adminbot.jabberdomain to disable c2s compression.</li>
   <li>Send a message with content "c2s compression enable" to b9@adminbot.jabberdomain to enable c2s compression.</li>
   <li>Send a message with content "create conference room_name [members]" to b9@adminbot.jabberdomain to create a new conference room and send invitations to members (JIDs separated by commas), if informed.</li>
   <li>Send a message with content "invite conference room_name members" to b9@adminbot.jabberdomain to send invitations to members (JIDs separated by commas).</li>
   <li>Send a message with content "free memory" to b9@adminbot.jabberdomain to get free available memory to the jvm.</li>
   <li>Send a message with content "group members group_name" to b9@adminbot.jabberdomain to get the list of members of a group.</li>
   <li>Send a message with content "help" to b9@adminbot.jabberdomain to get the list of available commands.</li>
   <li>Send a message with content "java version" to b9@adminbot.jabberdomain to get Java version.</li>
   <li>Send a message with content "list conferences" to b9@adminbot.jabberdomain to get the list of conference rooms.</li>
   <li>Send a message with content "list groups" to b9@adminbot.jabberdomain to get the list of groups.</li>
   <li>Send a message with content "max memory" to b9@adminbot.jabberdomain to get maximum available memory to the jvm.</li>
   <li>Send a message with content "online users" to b9@adminbot.jabberdomain to get the number of online users.</li>
   <li>Send a message with content "openfire version" to b9@adminbot.jabberdomain to get Openfire version.</li>
   <li>Send a message with content "openfire host" to b9@adminbot.jabberdomain to get Openfire hostname.</li>
   <li>Send a message with content "openfire uptime" to b9@adminbot.jabberdomain to get Openfire last started time.</li>
   <li>Send a message with content "s2s compression" to b9@adminbot.jabberdomain to get the configuration of s2s compression.</li>
   <li>Send a message with content "s2s compression disable" to b9@adminbot.jabberdomain to disable s2s compression.</li>
   <li>Send a message with content "s2s compression enable" to b9@adminbot.jabberdomain to enable s2s compression.</li>
   <li>Send a message with content "s2s config" to b9@adminbot.jabberdomain to get the configuration of s2s.</li>
   <li>Send a message with content "s2s blacklist" to b9@adminbot.jabberdomain to get the s2s blacklist.</li>
   <li>Send a message with content "s2s blacklist add <jabberdomain>" to b9@adminbot.jabberdomain to add jabberdomain to s2s blacklist.</li>
   <li>Send a message with content "s2s blacklist del <jabberdomain>" to b9@adminbot.jabberdomain to delete jabberdomain from s2s blacklist.</li>
   <li>Send a message with content "s2s blacklist disable" to b9@adminbot.jabberdomain to disable s2s blacklist (and enable whitelist).</li>
   <li>Send a message with content "s2s blacklist enable" to b9@adminbot.jabberdomain to enable s2s connections from any domain(except those in blacklist).</li>
   <li>Send a message with content "s2s disable" to b9@adminbot.jabberdomain to disable s2s.</li>
   <li>Send a message with content "s2s enable" to b9@adminbot.jabberdomain to enable s2s.</li>
   <li>Send a message with content "s2s whitelist" to b9@adminbot.jabberdomain to get the s2s whitelist.</li>
   <li>Send a message with content "s2s whitelist add jabberdomain [port]" to b9@adminbot.jabberdomain to add jabberdomain to s2s whitelist.</li>
   <li>Send a message with content "s2s whitelist del jabberdomain" to b9@adminbot.jabberdomain to delete jabberdomain s2s whitelist.</li>
   <li>Send a message with content "s2s whitelist disable" to b9@adminbot.jabberdomain to disable s2s whitelist and permit s2s connections from any domain(exceto those in blacklist).</li>
   <li>Send a message with content "s2s whitelist enable" to b9@adminbot.jabberdomain to enable s2s whitelist.</li>
   <li>Send a message with content "server sessions" to b9@adminbot.jabberdomain to get the number of incoming server sessions.</li>
   <li>Send a message with content "total memory" to b9@adminbot.jabberdomain to get total available memory to the jvm.</li>
   <li>Send a message with content "total users" to b9@adminbot.jabberdomain to get the number of total users.</li>
   <li>Send a message with content "used memory" to b9@adminbot.jabberdomain to get used memory by the jvm.</li>
   <li>Send a message with content "user info username" to b9@adminbot.jabberdomain to get user informations.</li>
   <li>Send a message with content "version" to b9@adminbot.jabberdomain to get plugin version.</li>
</ul>

<h2>Connection via socket</h2>
<p>After version 0.3 you can open a connection on localhost port 4456 (default values) and send the same messages to obtain data.</p>
<p>To use socket connections you must enable the feature in plugin configuration page on console admin (default is disabled). In the same page you can change default port and ip address for binding.</p>

<h2>Access restrictions</h2>

<h3>XMPP Messages</h3>
Only JIDs listed as admins can send XMPP messages to B9 plugin.

<h3>Socket Connections</h3>
If you are using socket connections, first you have to login with your password (defined in plugin configuration page on console admin). You just need to send the command:
<pre>login secret</pre>
Where secret is your defined password.

After login you can send the same messages that you use in XMPP.

<h2>Known Issues</h2>
<ul>
   <li>Adding servers to s2s whitelist or blacklist does not validate hostname as a valid name or valid IP address (not yet).</li>
</body>

